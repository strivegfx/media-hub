var $m={init:function(){Modernizr.inlinesvg||$m.noSvg.init(),$m.ss.init(),$m.n.init()},s:{ani:.25,dom:{html:$("html"),slide:$("#slideShow"),ham:$("#hamburger"),nav:$("#navigation")},col:{white:"255, 255, 255"}},g:{},fastClick:function(){},noSvg:{init:function(){$(".svgIcon").each(function(){$m.noSvg.addPng($(this))})},addPng:function(e){var i=e.attr("data-noSvg");e.attr({src:i})}},ss:{init:function(){var e=$m.s.dom.slide;$m.ss.uiSize(),"small"===$m.ss.s.uiSize?$m.ss.small.update(e,"+"):$m.ss.big.moveOut(e,"+"),$m.ss.l(e)},s:{uiSize:null,ref:9999999,c:[{small:{bgImage:"slideshow-zombie-small"},big:{bgImage:"slideshow-zombie-big",mediaShell:{kind:"iPhone",device:"media-shell-iphone",video:{mp4:"iphone.mp4.mp4",webm:"iphone.webmhd.webm",fallBack:"xxxxxxx.png"}}}},{small:{bgImage:"slideshow-volvo-small"},big:{bgImage:"slideshow-volvo-big",mediaShell:{kind:"iPad",device:"media-shell-ipad",video:{mp4:"ipad.mp4.mp4",webm:"ipad.webmhd.webm",fallBack:"xxxxxxx.png"}}}},{small:{bgImage:"slideshow-beach-small"},big:{bgImage:"slideshow-beach-big",mediaShell:{kind:"desktop",device:"media-shell-imac-front",video:{mp4:"imac.mp4.mp4",webm:"imac.webmhd.webm",fallBack:"xxxxxxx.png"}}}}]},uiSize:function(){var e=$m.s.dom.html,i=e.css("background-color");console.log(i),$m.ss.s.uiSize="rgb(255, 255, 255)"===i?"small":"big",console.log("uiSize = "+$m.ss.s.uiSize)},l:function(e){var i,a;e.on("click",".slide",function(){i=$(this),a=$m.ss.getDir(i),"small"===$m.ss.s.uiSize?$m.ss.small.update(e,a):$m.ss.big.moveOut(e,a)})},big:{moveOut:function(e,i){var a=$m.s.ani,n=e.find("#mediaShell"),s=e.find("#dynamicBg");TweenMax.to(n,a,{opacity:"0",transform:"translateX(10em)",onComplete:$m.ss.big.update,onCompleteParams:[i,a,n,s]}),TweenMax.to(s,a,{opacity:"0",transform:"translateX(-10em)"})},update:function(e,i,a,n){var s=$m.ss.getRef(e),m=$m.ss.s.c[s].big,o=a.find("> .screen"),t,l;a.attr({"data-kind":m.mediaShell.kind}),a.find("> .device").attr({src:"img/"+m.mediaShell.device+".png"}),o.remove(),console.log(Modernizr.video.h264),l=Modernizr.video.h264?m.mediaShell.video.mp4:m.mediaShell.video.webm,t='<video autoplay loop class="screen" src="vid/'+l+'" type="video/mp4" poster="vid/'+m.mediaShell.video.fallBack+'"><img src="'+m.mediaShell.video.fallBack+'"></video>',a.append(t),a.find(".screen").on("ended",function(){this.play()}),n.attr({src:"img/"+m.bgImage+".jpg"}),$m.ss.big.moveIn(i,a,n)},moveIn:function(e,i,a){TweenMax.to(i,e,{opacity:"1",transform:"translateX(0)"}),TweenMax.to(a,e,{opacity:"1",transform:"translateX(0)"})}},small:{update:function(e,i){var a=$m.ss.getRef(i),n=$m.ss.s.c[a].small,s=e.find("#dynamicBg");s.attr({src:"img/"+n.bgImage+".jpg"})}},getDir:function(e){return e.hasClass("left")?"-":"+"},getRef:function(e){var i=$m.ss.s.ref,a=$m.ss.s.c.length;return"+"===e?(i++,i>=a&&(i=0)):(i--,0>i&&(i=a-1)),$m.ss.s.ref=i,i}},n:{init:function(){$m.n.l()},l:function(){var e=$("body"),i=$m.s.dom.ham;i.on("click",function(){"active"===e.attr("data-nav")?$m.n.a.closeNav(e,i):$m.n.a.openNav(e,i)})},a:{openNav:function(e,i){e.attr({"data-nav":"active"})},closeNav:function(e,i){e.attr({"data-nav":"dormant"})}}},sr:function(){}};$(document).ready(function(){$m.init()});